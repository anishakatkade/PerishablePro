<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PerishablePro | Dynamic Pricing for Perishable Goods</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --info: #1abc9c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --gray: #95a5a6;
            --white: #ffffff;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: #f9f9f9;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        header {
            background-color: var(--white);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }
        
        .logo-icon {
            font-size: 2rem;
            color: var(--secondary);
            margin-right: 10px;
        }
        
        .logo-text {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 20px;
        }
        
        nav ul li a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s;
            padding: 5px 10px;
            border-radius: 4px;
        }
        
        nav ul li a:hover, nav ul li a.active {
            color: var(--white);
            background-color: var(--secondary);
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--primary);
            cursor: pointer;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: var(--white);
            padding: 80px 0;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 30px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--white);
            color: var(--primary);
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .btn-primary {
            background-color: var(--success);
            color: var(--white);
        }
        
        .btn-secondary {
            background-color: transparent;
            color: var(--white);
            border: 2px solid var(--white);
            margin-left: 10px;
        }
        
        .btn-secondary:hover {
            background-color: var(--white);
            color: var(--primary);
        }
        
        /* Dashboard Section */
        .dashboard-section {
            padding: 60px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .section-title h2 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .section-title p {
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .card {
            background-color: var(--white);
            border-radius: 8px;
            padding: 25px;
            box-shadow: var(--shadow);
        }
        
        .card-title {
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--light);
        }
        
        /* Product Card Styles */
        .product-card {
            border: 1px solid var(--light);
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .product-card:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: translateY(-3px);
        }
        
        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .product-name {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--primary);
        }
        
        .product-price {
            font-weight: bold;
            font-size: 1.3rem;
            color: var(--danger);
        }
        
        .product-details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .expiry-bar {
            height: 10px;
            background: var(--light);
            border-radius: 5px;
            margin-bottom: 10px;
            overflow: hidden;
        }
        
        .expiry-progress {
            height: 100%;
            background: var(--danger);
            width: 100%;
            transition: width 0.5s ease;
        }
        
        .interest-meter {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .interest-icon {
            margin-right: 10px;
            color: var(--secondary);
        }
        
        .interest-level {
            flex-grow: 1;
            height: 8px;
            background: var(--light);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .interest-fill {
            height: 100%;
            background: var(--secondary);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .buy-btn {
            background: var(--success);
            color: var(--white);
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease;
            width: 100%;
        }
        
        .buy-btn:hover {
            background: #27ae60;
        }
        
        .buy-btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
        }
        
        /* Metrics Styles */
        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .metric {
            background-color: var(--light);
            border-radius: 6px;
            padding: 15px;
        }
        
        .metric-title {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 5px;
        }
        
        .metric-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .metric-danger {
            color: var(--danger);
        }
        
        .metric-success {
            color: var(--success);
        }
        
        .metric-warning {
            color: var(--warning);
        }
        
        .metric-info {
            color: var(--info);
        }
        
        .chart-container {
            height: 300px;
            margin-top: 20px;
        }
        
        /* Simulation Controls */
        .control-group {
            margin-bottom: 15px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .control-group input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--light);
            outline: none;
            -webkit-appearance: none;
        }
        
        .control-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--secondary);
            cursor: pointer;
        }
        
        .control-value {
            display: inline-block;
            width: 30px;
            text-align: center;
            font-weight: bold;
            margin-left: 10px;
        }
        
        /* Features Section */
        .features-section {
            padding: 60px 0;
            background-color: var(--white);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .feature-card {
            text-align: center;
            padding: 30px 20px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }
        
        .feature-icon {
            font-size: 3rem;
            color: var(--secondary);
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .feature-card p {
            color: var(--gray);
        }
        
        /* Pricing Section */
        .pricing-section {
            padding: 60px 0;
            background-color: var(--light);
        }
        
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .pricing-card {
            background-color: var(--white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s;
        }
        
        .pricing-card:hover {
            transform: translateY(-10px);
        }
        
        .pricing-header {
            background-color: var(--primary);
            color: var(--white);
            padding: 20px;
            text-align: center;
        }
        
        .pricing-header h3 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .pricing-price {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .pricing-period {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .pricing-body {
            padding: 30px;
        }
        
        .pricing-features {
            list-style: none;
            margin-bottom: 30px;
        }
        
        .pricing-features li {
            padding: 10px 0;
            border-bottom: 1px solid var(--light);
            display: flex;
            align-items: center;
        }
        
        .pricing-features li:last-child {
            border-bottom: none;
        }
        
        .pricing-features li i {
            color: var(--success);
            margin-right: 10px;
        }
        
        .pricing-btn {
            display: block;
            text-align: center;
            padding: 12px;
            background-color: var(--secondary);
            color: var(--white);
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
            transition: background 0.3s;
        }
        
        .pricing-btn:hover {
            background-color: #2980b9;
        }
        
        /* Contact Section */
        .contact-section {
            padding: 60px 0;
        }
        
        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }
        
        .contact-info h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary);
        }
        
        .contact-info p {
            margin-bottom: 30px;
            color: var(--gray);
        }
        
        .contact-details {
            margin-bottom: 30px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .contact-icon {
            width: 40px;
            height: 40px;
            background-color: var(--secondary);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }
        
        .contact-form .form-group {
            margin-bottom: 20px;
        }
        
        .contact-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .contact-form input,
        .contact-form textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--light);
            border-radius: 4px;
            font-family: inherit;
        }
        
        .contact-form textarea {
            height: 150px;
            resize: vertical;
        }
        
        /* Footer */
        footer {
            background-color: var(--primary);
            color: var(--white);
            padding: 40px 0 20px;
        }
        
        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .footer-col h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-col h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 2px;
            background-color: var(--secondary);
        }
        
        .footer-col ul {
            list-style: none;
        }
        
        .footer-col ul li {
            margin-bottom: 10px;
        }
        
        .footer-col ul li a {
            color: var(--light);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-col ul li a:hover {
            color: var(--secondary);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: var(--white);
            transition: all 0.3s;
        }
        
        .social-links a:hover {
            background-color: var(--secondary);
            transform: translateY(-3px);
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 0.9rem;
        }
        
        /* Responsive Styles */
        @media (max-width: 992px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .contact-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                text-align: center;
            }
            
            nav {
                margin-top: 20px;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            nav ul li {
                margin: 5px 0;
            }
            
            .btn-secondary {
                margin-left: 0;
                margin-top: 10px;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 576px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .btn {
                display: block;
                width: 100%;
                margin-bottom: 10px;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            nav {
                display: none;
                width: 100%;
                margin-top: 15px;
            }
            
            nav.active {
                display: block;
            }
        }
        
        /* Page-specific styles */
        .page-header {
            background-color: var(--primary);
            color: var(--white);
            padding: 20px 0;
            text-align: center;
        }
        
        .page-header h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .breadcrumb {
            display: flex;
            justify-content: center;
            list-style: none;
        }
        
        .breadcrumb li {
            margin: 0 10px;
        }
        
        .breadcrumb li a {
            color: var(--light);
            text-decoration: none;
        }
        
        .breadcrumb li::after {
            content: '/';
            margin-left: 10px;
            color: var(--light);
        }
        
        .breadcrumb li:last-child::after {
            content: none;
        }
        
        /* Dashboard page specific */
        .simulation-controls {
            margin-top: 30px;
        }
        
        .time-display {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--gray);
            padding: 10px;
            background-color: var(--light);
            border-radius: 4px;
        }
        
        /* New styles for additional features */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--light);
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .tab.active {
            border-bottom-color: var(--secondary);
            color: var(--secondary);
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .category-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .dairy {
            background-color: #d4edff;
            color: #0056b3;
        }
        
        .fruit {
            background-color: #ffe0e0;
            color: #c82333;
        }
        
        .bakery {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--white);
            border-left: 4px solid var(--danger);
            padding: 15px;
            border-radius: 4px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            z-index: 1000;
            transform: translateX(120%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification-icon {
            margin-right: 10px;
            color: var(--danger);
            font-size: 1.5rem;
        }
        
        .notification-close {
            margin-left: 15px;
            cursor: pointer;
            color: var(--gray);
        }
        
        .notification.success {
            border-left-color: var(--success);
        }
        
        .notification.success .notification-icon {
            color: var(--success);
        }
        
        .notification.warning {
            border-left-color: var(--warning);
        }
        
        .notification.warning .notification-icon {
            color: var(--warning);
        }
        
        .inventory-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .inventory-category {
            background-color: var(--light);
            border-radius: 6px;
            padding: 15px;
            text-align: center;
        }
        
        .inventory-category h4 {
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .inventory-category .count {
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .inventory-category .dairy .count {
            color: #0056b3;
        }
        
        .inventory-category .fruit .count {
            color: #c82333;
        }
        
        .inventory-category .bakery .count {
            color: #856404;
        }
        
        .product-category {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .product-category i {
            margin-right: 8px;
            color: var(--gray);
        }
        
        .advanced-controls {
            background-color: var(--light);
            padding: 15px;
            border-radius: 6px;
            margin-top: 20px;
        }
        
        .advanced-controls h4 {
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .control-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .control-row label {
            flex: 1;
        }
        
        .control-row input[type="range"] {
            flex: 2;
        }
        
        .control-row .control-value {
            flex: 0 0 40px;
            text-align: right;
        }
        
        .sales-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .sales-table th, .sales-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--light);
        }
        
        .sales-table th {
            background-color: var(--light);
            font-weight: bold;
        }
        
        .sales-table tr:hover {
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .badge-success {
            background-color: #d4edda;
            color: #155724;
        }
        
        .badge-warning {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .badge-danger {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .waste-analysis {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .waste-analysis {
                grid-template-columns: 1fr;
            }
        }
        
        .demand-forecast {
            margin-top: 20px;
        }
        
        .forecast-item {
            margin-bottom: 15px;
        }
        
        .forecast-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .forecast-bar {
            height: 10px;
            background-color: var(--light);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .forecast-progress {
            height: 100%;
            background-color: var(--info);
            width: 0%;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="index.html" class="logo">
                <div class="logo-icon"><i class="fas fa-percentage"></i></div>
                <div class="logo-text">PerishablePro</div>
            </a>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <nav id="mainNav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="features.html">Features</a></li>
                    <li><a href="pricing.html">Pricing</a></li>
                    <li><a href="dashboard.html" class="active">Dashboard</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Dynamic Pricing Dashboard</h1>
 
        </div>
    </section>

    <!-- Dashboard Section -->
    <section class="dashboard-section">
        <div class="container">
            <div class="tabs">
                <div class="tab active" data-tab="dashboard">Dashboard</div>
                <div class="tab" data-tab="inventory">Inventory</div>
                <div class="tab" data-tab="sales">Sales Analytics</div>
                <div class="tab" data-tab="waste">Waste Reduction</div>
            </div>
            
            <div class="tab-content active" id="dashboard-tab">
                <div class="time-display">
                    Current Time: <span id="current-time">Day 1, 9:00 AM</span>
                </div>
                
                <div class="dashboard">
                    <div class="card product-list">
                        <h2 class="card-title">Available Products</h2>
                        <div id="products-container">
                            <!-- Products will be generated here -->
                        </div>
                    </div>
                    
                    <div class="card metrics">
                        <h2 class="card-title">Store Metrics</h2>
                        <div class="metrics-grid">
                            <div class="metric">
                                <div class="metric-title">Total Inventory</div>
                                <div class="metric-value" id="total-inventory">50</div>
                            </div>
                            <div class="metric">
                                <div class="metric-title">Items Sold Today</div>
                                <div class="metric-value metric-success" id="items-sold">0</div>
                            </div>
                            <div class="metric">
                                <div class="metric-title">Revenue</div>
                                <div class="metric-value metric-success" id="revenue">$0.00</div>
                            </div>
                            <div class="metric">
                                <div class="metric-title">Waste (Expired Items)</div>
                                <div class="metric-value metric-danger" id="waste">0</div>
                            </div>
                        </div>
                        
                        <div class="chart-container">
                            <canvas id="price-trend-chart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="card simulation-controls">
                    <h2 class="card-title">Simulation Controls</h2>
                    <div class="control-group">
                        <label for="customer-traffic">Customer Traffic <span class="control-value" id="traffic-value">5</span></label>
                        <input type="range" id="customer-traffic" min="1" max="10" value="5">
                    </div>
                    
                    <div class="control-group">
                        <label for="time-speed">Simulation Speed <span class="control-value" id="speed-value">5</span></label>
                        <input type="range" id="time-speed" min="1" max="10" value="5">
                    </div>
                    
                    <div class="advanced-controls">
                        <h4>Advanced Controls</h4>
                        <div class="control-row">
                            <label for="price-sensitivity">Price Sensitivity</label>
                            <input type="range" id="price-sensitivity" min="1" max="10" value="5">
                            <span class="control-value" id="sensitivity-value">5</span>
                        </div>
                        <div class="control-row">
                            <label for="discount-aggressiveness">Discount Aggressiveness</label>
                            <input type="range" id="discount-aggressiveness" min="1" max="10" value="5">
                            <span class="control-value" id="discount-value">5</span>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" id="start-simulation">Start Simulation</button>
                    <button class="btn" id="reset-simulation" style="margin-left: 10px;">Reset</button>
                </div>
            </div>
            
            <div class="tab-content" id="inventory-tab">
                <div class="card">
                    <h2 class="card-title">Inventory Management</h2>
                    
                    <div class="inventory-summary">
                        <div class="inventory-category dairy">
                            <h4>Dairy Products</h4>
                            <div class="count" id="dairy-count">0</div>
                            <div>Items in stock</div>
                        </div>
                        <div class="inventory-category fruit">
                            <h4>Fruits</h4>
                            <div class="count" id="fruit-count">0</div>
                            <div>Items in stock</div>
                        </div>
                        <div class="inventory-category bakery">
                            <h4>Bakery</h4>
                            <div class="count" id="bakery-count">0</div>
                            <div>Items in stock</div>
                        </div>
                        <div class="inventory-category">
                            <h4>Total Value</h4>
                            <div class="count" id="inventory-value">$0.00</div>
                            <div>Current inventory worth</div>
                        </div>
                    </div>
                    
                    <h3>Products Nearing Expiration</h3>
                    <div id="expiring-products">
                        <!-- Expiring products will be shown here -->
                    </div>
                    
                    <h3 style="margin-top: 20px;">Add New Product</h3>
                    <div class="form-group">
                        <label for="new-product-name">Product Name</label>
                        <input type="text" id="new-product-name" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="new-product-category">Category</label>
                        <select id="new-product-category" class="form-control">
                            <option value="dairy">Dairy</option>
                            <option value="fruit">Fruit</option>
                            <option value="bakery">Bakery</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="new-product-price">Base Price ($)</label>
                        <input type="number" id="new-product-price" class="form-control" min="0.01" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="new-product-quantity">Quantity</label>
                        <input type="number" id="new-product-quantity" class="form-control" min="1">
                    </div>
                    <div class="form-group">
                        <label for="new-product-shelf-life">Shelf Life (days)</label>
                        <input type="number" id="new-product-shelf-life" class="form-control" min="1">
                    </div>
                    <button class="btn btn-primary" id="add-product-btn">Add Product</button>
                </div>
            </div>
            
            <div class="tab-content" id="sales-tab">
                <div class="card">
                    <h2 class="card-title">Sales Analytics</h2>
                    
                    <div class="metrics-grid">
                        <div class="metric">
                            <div class="metric-title">Today's Sales</div>
                            <div class="metric-value metric-success" id="today-sales">$0.00</div>
                        </div>
                        <div class="metric">
                            <div class="metric-title">Avg. Price Reduction</div>
                            <div class="metric-value metric-warning" id="avg-discount">0%</div>
                        </div>
                        <div class="metric">
                            <div class="metric-title">Conversion Rate</div>
                            <div class="metric-value metric-info" id="conversion-rate">0%</div>
                        </div>
                        <div class="metric">
                            <div class="metric-title">Best Selling</div>
                            <div class="metric-value" id="best-seller">-</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="sales-trend-chart"></canvas>
                    </div>
                    
                    <h3>Recent Sales</h3>
                    <table class="sales-table">
                        <thead>
                            <tr>
                                <th>Time</th>
                                <th>Product</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="sales-table-body">
                            <!-- Sales data will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="tab-content" id="waste-tab">
                <div class="card">
                    <h2 class="card-title">Waste Reduction Analytics</h2>
                    
                    <div class="waste-analysis">
                        <div>
                            <h3>Waste by Category</h3>
                            <div class="chart-container">
                                <canvas id="waste-pie-chart"></canvas>
                            </div>
                        </div>
                        <div>
                            <h3>Waste Cost Over Time</h3>
                            <div class="chart-container">
                                <canvas id="waste-trend-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <h3>Demand Forecasting</h3>
                    <div class="demand-forecast" id="demand-forecast">
                        <!-- Demand forecast will be shown here -->
                    </div>
                    
                    <h3 style="margin-top: 20px;">Waste Reduction Tips</h3>
                    <ul id="waste-tips">
                        <li>Increase discounts on products with less than 2 days shelf life remaining</li>
                        <li>Bundle products nearing expiration with popular items</li>
                        <li>Adjust ordering quantities based on historical waste data</li>
                        <li>Consider donating products close to expiration to local food banks</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Notification System -->
    <div class="notification" id="notification">
        <div class="notification-icon"><i class="fas fa-exclamation-circle"></i></div>
        <div class="notification-content">This is a notification</div>
        <div class="notification-close"><i class="fas fa-times"></i></div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <h3>PerishablePro</h3>
                    <p>Dynamic pricing solutions for perishable goods to maximize profits and minimize waste.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="features.html">Features</a></li>
                        <li><a href="pricing.html">Pricing</a></li>
                        <li><a href="dashboard.html">Dashboard</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Features</h3>
                    <ul>
                        <li><a href="#">Dynamic Pricing</a></li>
                        <li><a href="#">Inventory Management</a></li>
                        <li><a href="#">Waste Reduction</a></li>
                        <li><a href="#">Real-time Analytics</a></li>
                        <li><a href="#">POS Integration</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Us</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Business , nagpur</li>
                      
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2023 PerishablePro. All Rights Reserved.
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Product data with categories
        const products = [
            { id: 1, name: "Organic Milk", category: "dairy", basePrice: 3.99, quantity: 10, shelfLife: 7, currentLife: 7, interest: 0, priceHistory: [], maxInterest: 0, totalSold: 0 },
            { id: 2, name: "Fresh Strawberries", category: "fruit", basePrice: 4.50, quantity: 8, shelfLife: 5, currentLife: 5, interest: 0, priceHistory: [], maxInterest: 0, totalSold: 0 },
            { id: 3, name: "Artisan Bread", category: "bakery", basePrice: 3.25, quantity: 6, shelfLife: 3, currentLife: 3, interest: 0, priceHistory: [], maxInterest: 0, totalSold: 0 },
            { id: 4, name: "Greek Yogurt", category: "dairy", basePrice: 2.99, quantity: 12, shelfLife: 14, currentLife: 14, interest: 0, priceHistory: [], maxInterest: 0, totalSold: 0 }
        ];
        
        // Sales history
        const salesHistory = [];
        
        // Waste history by day
        const wasteHistory = [];
        
        // Simulation state
        let simulationRunning = false;
        let simulationInterval;
        let currentTime = { day: 1, hour: 9, minute: 0 };
        let totalRevenue = 0;
        let itemsSold = 0;
        let wasteCount = 0;
        let priceChart, salesChart, wastePieChart, wasteTrendChart;
        let nextProductId = 5;
        
        // DOM elements
        const productsContainer = document.getElementById('products-container');
        const totalInventoryEl = document.getElementById('total-inventory');
        const itemsSoldEl = document.getElementById('items-sold');
        const revenueEl = document.getElementById('revenue');
        const wasteEl = document.getElementById('waste');
        const currentTimeEl = document.getElementById('current-time');
        const customerTrafficInput = document.getElementById('customer-traffic');
        const trafficValueEl = document.getElementById('traffic-value');
        const timeSpeedInput = document.getElementById('time-speed');
        const speedValueEl = document.getElementById('speed-value');
        const priceSensitivityInput = document.getElementById('price-sensitivity');
        const sensitivityValueEl = document.getElementById('sensitivity-value');
        const discountAggressivenessInput = document.getElementById('discount-aggressiveness');
        const discountValueEl = document.getElementById('discount-value');
        const startSimulationBtn = document.getElementById('start-simulation');
        const resetSimulationBtn = document.getElementById('reset-simulation');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mainNav = document.getElementById('mainNav');
        const notification = document.getElementById('notification');
        const notificationContent = document.querySelector('.notification-content');
        const notificationClose = document.querySelector('.notification-close');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const dairyCountEl = document.getElementById('dairy-count');
        const fruitCountEl = document.getElementById('fruit-count');
        const bakeryCountEl = document.getElementById('bakery-count');
        const inventoryValueEl = document.getElementById('inventory-value');
        const expiringProductsEl = document.getElementById('expiring-products');
        const todaySalesEl = document.getElementById('today-sales');
        const avgDiscountEl = document.getElementById('avg-discount');
        const conversionRateEl = document.getElementById('conversion-rate');
        const bestSellerEl = document.getElementById('best-seller');
        const salesTableBody = document.getElementById('sales-table-body');
        const demandForecastEl = document.getElementById('demand-forecast');
        const addProductBtn = document.getElementById('add-product-btn');
        
        // Initialize the application
        function init() {
            renderProducts();
            updateMetrics();
            initializeCharts();
            
            // Event listeners
            customerTrafficInput.addEventListener('input', function() {
                trafficValueEl.textContent = this.value;
            });
            
            timeSpeedInput.addEventListener('input', function() {
                speedValueEl.textContent = this.value;
            });
            
            priceSensitivityInput.addEventListener('input', function() {
                sensitivityValueEl.textContent = this.value;
            });
            
            discountAggressivenessInput.addEventListener('input', function() {
                discountValueEl.textContent = this.value;
            });
            
            startSimulationBtn.addEventListener('click', toggleSimulation);
            resetSimulationBtn.addEventListener('click', resetSimulation);
            mobileMenuBtn.addEventListener('click', toggleMobileMenu);
            notificationClose.addEventListener('click', hideNotification);
            
            // Tab switching
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(`${tab.dataset.tab}-tab`).classList.add('active');
                    
                    // Update charts when switching tabs
                    if (tab.dataset.tab === 'sales') {
                        updateSalesChart();
                    } else if (tab.dataset.tab === 'waste') {
                        updateWasteCharts();
                    }
                });
            });
            
            // Add product form
            addProductBtn.addEventListener('click', addNewProduct);
            
            // Set active page in navigation
            setActivePage();
            
            // Initialize inventory view
            updateInventoryView();
        }
        
        // Toggle mobile menu
        function toggleMobileMenu() {
            mainNav.classList.toggle('active');
        }
        
        // Show notification
        function showNotification(message, type = 'danger') {
            notification.className = `notification ${type} show`;
            notificationContent.textContent = message;
            setTimeout(hideNotification, 5000);
        }
        
        // Hide notification
        function hideNotification() {
            notification.classList.remove('show');
        }
        
        // Set active page in navigation
        function setActivePage() {
            const navLinks = document.querySelectorAll('nav ul li a');
            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });
        }
        
        // Render all products
        function renderProducts() {
            productsContainer.innerHTML = '';
            
            products.forEach(product => {
                if (product.quantity <= 0) return;
                
                const currentPrice = calculateCurrentPrice(product);
                
                // Add current price to history for chart
                if (product.priceHistory.length === 0 || 
                    product.priceHistory[product.priceHistory.length - 1].price !== currentPrice) {
                    product.priceHistory.push({
                        time: formatTime(currentTime),
                        price: currentPrice
                    });
                }
                
                // Get category badge
                let categoryBadge = '';
                if (product.category === 'dairy') {
                    categoryBadge = '<span class="category-badge dairy"><i class="fas fa-wine-bottle"></i> Dairy</span>';
                } else if (product.category === 'fruit') {
                    categoryBadge = '<span class="category-badge fruit"><i class="fas fa-apple-alt"></i> Fruit</span>';
                } else if (product.category === 'bakery') {
                    categoryBadge = '<span class="category-badge bakery"><i class="fas fa-bread-slice"></i> Bakery</span>';
                }
                
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-header">
                        <div>
                            <div class="product-name">${product.name}</div>
                            ${categoryBadge}
                        </div>
                        <div class="product-price">$${currentPrice.toFixed(2)}</div>
                    </div>
                    <div class="product-details">
                        <div>Available: ${product.quantity}</div>
                        <div>Expires in: ${product.currentLife} days</div>
                    </div>
                    <div class="expiry-bar">
                        <div class="expiry-progress" style="width: ${(product.currentLife / product.shelfLife) * 100}%"></div>
                    </div>
                    <div class="interest-meter">
                        <div class="interest-icon"></div>
                        <div class="interest-level">
                            <div class="interest-fill" style="width: ${(product.interest / 10) * 100}%"></div>
                        </div>
                    </div>
                    <button class="buy-btn" data-id="${product.id}" ${product.quantity === 0 ? 'disabled' : ''}>
                        ${product.quantity === 0 ? 'Sold Out' : 'Buy Now'}
                    </button>
                `;
                
                productsContainer.appendChild(productCard);
            });
            
            // Add event listeners to buy buttons
            document.querySelectorAll('.buy-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    buyProduct(productId);
                });
            });
            
            updateChart();
        }
        
        // Calculate current price based on expiration and demand
           function calculateCurrentPrice(product) {
            if (product.quantity === 0) return 0;

              if (product.quantity >= 10) {
               return product.basePrice;
    }
            
            // Get simulation parameters
            const discountAggressiveness = parseInt(discountAggressivenessInput.value);
            const priceSensitivity = parseInt(priceSensitivityInput.value);
            
            // Base price adjustment based on remaining shelf life (non-linear decrease)
            const shelfLifeRatio = product.currentLife / product.shelfLife;
            let price = product.basePrice * (0.3 + 0.7 * Math.pow(shelfLifeRatio, 0.5 + discountAggressiveness/20));
            
            // Demand adjustment - price increases with more interest
            const demandFactor = 1 + (product.interest / 10) * (0.1 + priceSensitivity/20); // Up to 60% increase
            price *= demandFactor;
            
            // Scarcity adjustment - price increases as quantity decreases
            const scarcityFactor = 1 + ((10 - Math.min(10, product.quantity)) * 0.05); // Up to 50% increase
            price *= scarcityFactor;
            
            // Ensure price doesn't go below a minimum or above 2x base price
            return Math.max(product.basePrice * 0.3, Math.min(product.basePrice * 2, price));
        }



        
        // Handle product purchase
        function buyProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (!product || product.quantity === 0) return;
            
            const currentPrice = calculateCurrentPrice(product);
            const originalPrice = product.basePrice;
            const discount = ((originalPrice - currentPrice) / originalPrice * 100).toFixed(1);
            
            product.quantity--;
            product.totalSold++;
            itemsSold++;
            totalRevenue += currentPrice;
            
            // Record sale
            const sale = {
                time: formatTime(currentTime),
                productId: product.id,
                productName: product.name,
                category: product.category,
                price: currentPrice,
                discount: discount
            };
            
            salesHistory.unshift(sale);
            
            // Reduce interest when someone buys
            product.interest = Math.max(0, product.interest - 2);
            
            // Show notification
            showNotification(`${product.name} sold for $${currentPrice.toFixed(2)} (${discount}% off)`, 'success');
            
            updateMetrics();
            renderProducts();
            updateSalesTable();
            updateInventoryView();
        }
        
        // Update store metrics display
        function updateMetrics() {
            const totalInventory = products.reduce((sum, product) => sum + product.quantity, 0);
            
            totalInventoryEl.textContent = totalInventory;
            itemsSoldEl.textContent = itemsSold;
            revenueEl.textContent = '$' + totalRevenue.toFixed(2);
            wasteEl.textContent = wasteCount;
            
            // Update sales analytics
            if (salesHistory.length > 0) {
                const todaySales = salesHistory.filter(sale => sale.time.includes(`Day ${currentTime.day}`))
                                              .reduce((sum, sale) => sum + sale.price, 0);
                todaySalesEl.textContent = '$' + todaySales.toFixed(2);
                
                const avgDiscount = salesHistory.reduce((sum, sale) => sum + parseFloat(sale.discount), 0) / salesHistory.length;
                avgDiscountEl.textContent = avgDiscount.toFixed(1) + '%';
                
                const traffic = parseInt(customerTrafficInput.value);
                const conversionRate = (itemsSold / (traffic * 8)) * 100; // 8 hours in a day
                conversionRateEl.textContent = conversionRate.toFixed(1) + '%';
                
                // Find best seller
                const bestSeller = products.reduce((prev, current) => 
                    (prev.totalSold > current.totalSold) ? prev : current);
                bestSellerEl.textContent = bestSeller.name;
            }
        }
        
        // Format time for display
        function formatTime(time) {
            const ampm = time.hour >= 12 ? 'PM' : 'AM';
            const hours = time.hour > 12 ? time.hour - 12 : time.hour;
            return `Day ${time.day}, ${hours}:${time.minute.toString().padStart(2, '0')} ${ampm}`;
        }
        
        // Initialize all charts
        function initializeCharts() {
            initializePriceChart();
            initializeSalesChart();
            initializeWasteCharts();
        }
        
        // Initialize the price trend chart
        function initializePriceChart() {
            const ctx = document.getElementById('price-trend-chart').getContext('2d');
            
            priceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: products.map(product => ({
                        label: product.name,
                        data: [],
                        borderColor: getRandomColor(),
                        borderWidth: 2,
                        fill: false,
                        tension: 0.1
                    }))
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Price ($)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Time'
                            }
                        }
                    }
                }
            });
        }
        
        // Initialize the sales trend chart
        function initializeSalesChart() {
            const ctx = document.getElementById('sales-trend-chart').getContext('2d');
            
            salesChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Dairy', 'Fruit', 'Bakery'],
                    datasets: [{
                        label: 'Sales by Category',
                        data: [0, 0, 0],
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 99, 132, 0.7)',
                            'rgba(255, 206, 86, 0.7)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)',
                            'rgba(255, 206, 86, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Sales ($)'
                            }
                        }
                    }
                }
            });
        }
        
        // Initialize waste charts
        function initializeWasteCharts() {
            // Waste by category pie chart
            const pieCtx = document.getElementById('waste-pie-chart').getContext('2d');
            
            wastePieChart = new Chart(pieCtx, {
                type: 'pie',
                data: {
                    labels: ['Dairy', 'Fruit', 'Bakery'],
                    datasets: [{
                        data: [0, 0, 0],
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 99, 132, 0.7)',
                            'rgba(255, 206, 86, 0.7)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                        }
                    }
                }
            });
            
            // Waste trend chart
            const trendCtx = document.getElementById('waste-trend-chart').getContext('2d');
            
            wasteTrendChart = new Chart(trendCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Daily Waste Cost',
                        data: [],
                        borderColor: 'rgba(231, 76, 60, 1)',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Cost ($)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Day'
                            }
                        }
                    }
                }
            });
        }
        
        // Update the price chart with current data
        function updateChart() {
            if (!priceChart) return;
            
            // Get all time points from all products
            const allTimes = [];
            products.forEach(product => {
                product.priceHistory.forEach(entry => {
                    if (!allTimes.includes(entry.time)) {
                        allTimes.push(entry.time);
                    }
                });
            });
            
            // Sort times chronologically
            allTimes.sort((a, b) => {
                // Simple sort for demo - in real app would parse dates properly
                return a.localeCompare(b);
            });
            
            // Update chart labels
            priceChart.data.labels = allTimes;
            
            // Update each dataset
            priceChart.data.datasets.forEach((dataset, i) => {
                const product = products[i];
                dataset.data = allTimes.map(time => {
                    const entry = product.priceHistory.find(e => e.time === time);
                    return entry ? entry.price : null;
                });
            });
            
            priceChart.update();
        }
        
        // Update the sales chart
        function updateSalesChart() {
            if (!salesChart) return;
            
            // Calculate sales by category
            const dairySales = salesHistory.filter(s => s.category === 'dairy')
                                          .reduce((sum, sale) => sum + sale.price, 0);
            const fruitSales = salesHistory.filter(s => s.category === 'fruit')
                                          .reduce((sum, sale) => sum + sale.price, 0);
            const bakerySales = salesHistory.filter(s => s.category === 'bakery')
                                          .reduce((sum, sale) => sum + sale.price, 0);
            
            salesChart.data.datasets[0].data = [dairySales, fruitSales, bakerySales];
            salesChart.update();
        }
        
        // Update waste charts
        function updateWasteCharts() {
            if (!wastePieChart || !wasteTrendChart) return;
            
            // Calculate waste by category
            const dairyWaste = products.filter(p => p.category === 'dairy')
                                      .reduce((sum, p) => sum + (p.shelfLife - p.currentLife <= 0 ? p.quantity : 0), 0);
            const fruitWaste = products.filter(p => p.category === 'fruit')
                                      .reduce((sum, p) => sum + (p.shelfLife - p.currentLife <= 0 ? p.quantity : 0), 0);
            const bakeryWaste = products.filter(p => p.category === 'bakery')
                                      .reduce((sum, p) => sum + (p.shelfLife - p.currentLife <= 0 ? p.quantity : 0), 0);
            
            wastePieChart.data.datasets[0].data = [dairyWaste, fruitWaste, bakeryWaste];
            wastePieChart.update();
            
            // Update waste trend
            const days = wasteHistory.map(entry => `Day ${entry.day}`);
            const costs = wasteHistory.map(entry => entry.cost);
            
            wasteTrendChart.data.labels = days;
            wasteTrendChart.data.datasets[0].data = costs;
            wasteTrendChart.update();
            
            // Update demand forecast
            updateDemandForecast();
        }
        
        // Update demand forecast display
        function updateDemandForecast() {
            demandForecastEl.innerHTML = '';
            
            // Simple forecasting based on recent sales and current inventory
            products.forEach(product => {
                if (product.quantity <= 0) return;
                
                const forecastItem = document.createElement('div');
                forecastItem.className = 'forecast-item';
                
                // Simple forecast calculation (for demo purposes)
                const daysRemaining = product.currentLife;
                const avgDailySales = product.totalSold / currentTime.day;
                const forecastSales = avgDailySales * daysRemaining;
                const forecastPercentage = Math.min(100, (forecastSales / product.quantity) * 100);
                
                forecastItem.innerHTML = `
                    <div class="forecast-header">
                        <span>${product.name}</span>
                        <span>${forecastPercentage.toFixed(0)}% likely to sell out</span>
                    </div>
                    <div class="forecast-bar">
                        <div class="forecast-progress" style="width: ${forecastPercentage}%"></div>
                    </div>
                `;
                
                demandForecastEl.appendChild(forecastItem);
            });
        }
        
        // Update inventory view
        function updateInventoryView() {
            // Update category counts
            const dairyCount = products.filter(p => p.category === 'dairy').reduce((sum, p) => sum + p.quantity, 0);
            const fruitCount = products.filter(p => p.category === 'fruit').reduce((sum, p) => sum + p.quantity, 0);
            const bakeryCount = products.filter(p => p.category === 'bakery').reduce((sum, p) => sum + p.quantity, 0);
            
            dairyCountEl.textContent = dairyCount;
            fruitCountEl.textContent = fruitCount;
            bakeryCountEl.textContent = bakeryCount;
            
            // Calculate inventory value
            const inventoryValue = products.reduce((sum, p) => sum + (p.quantity * calculateCurrentPrice(p)), 0);
            inventoryValueEl.textContent = '$' + inventoryValue.toFixed(2);
            
            // Show expiring products
            updateExpiringProducts();
        }
        
        // Update expiring products list
        function updateExpiringProducts() {
            expiringProductsEl.innerHTML = '';
            
            // Get products with less than 30% shelf life remaining
            const expiringProducts = products.filter(p => 
                p.quantity > 0 && (p.currentLife / p.shelfLife) < 0.3
            ).sort((a, b) => (a.currentLife / a.shelfLife) - (b.currentLife / b.shelfLife));
            
            if (expiringProducts.length === 0) {
                expiringProductsEl.innerHTML = '<p>No products nearing expiration.</p>';
                return;
            }
            
            expiringProducts.forEach(product => {
                const currentPrice = calculateCurrentPrice(product);
                const originalPrice = product.basePrice;
                const discount = ((originalPrice - currentPrice) / originalPrice * 100).toFixed(1);
                
                const productItem = document.createElement('div');
                productItem.className = 'product-card';
                productItem.innerHTML = `
                    <div class="product-header">
                        <div class="product-name">${product.name}</div>
                        <div class="product-price">$${currentPrice.toFixed(2)} (${discount}% off)</div>
                    </div>
                    <div class="product-details">
                        <div>Available: ${product.quantity}</div>
                        <div>Expires in: ${product.currentLife} days</div>
                    </div>
                    <div class="expiry-bar">
                        <div class="expiry-progress" style="width: ${(product.currentLife / product.shelfLife) * 100}%"></div>
                    </div>
                `;
                
                expiringProductsEl.appendChild(productItem);
            });
        }
        
        // Update sales table
        function updateSalesTable() {
            salesTableBody.innerHTML = '';
            
            // Show last 5 sales
            const recentSales = salesHistory.slice(0, 5);
            
            if (recentSales.length === 0) {
                salesTableBody.innerHTML = '<tr><td colspan="5">No sales yet</td></tr>';
                return;
            }
            
            recentSales.forEach(sale => {
                const row = document.createElement('tr');
                
                // Determine status badge
                let statusBadge = '';
                if (parseFloat(sale.discount) > 20) {
                    statusBadge = '<span class="badge badge-success">High Discount</span>';
                } else if (parseFloat(sale.discount) > 10) {
                    statusBadge = '<span class="badge badge-warning">Moderate Discount</span>';
                } else {
                    statusBadge = '<span class="badge badge-danger">Low Discount</span>';
                }
                
                row.innerHTML = `
                    <td>${sale.time}</td>
                    <td>${sale.productName}</td>
                    <td>${sale.category.charAt(0).toUpperCase() + sale.category.slice(1)}</td>
                    <td>$${sale.price.toFixed(2)}</td>
                    <td>${statusBadge}</td>
                `;
                
                salesTableBody.appendChild(row);
            });
        }
        
        // Helper function to generate random colors for chart
        function getRandomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }
        
        // Advance time in the simulation
        function advanceTime() {
            currentTime.minute += 30;
            
            if (currentTime.minute >= 60) {
                currentTime.minute = 0;
                currentTime.hour += 1;
            }
            
            if (currentTime.hour >= 17) { // Store closes at 5 PM
                currentTime.hour = 9;
                currentTime.day += 1;
                
                // At end of day, reduce shelf life and check for expired items
                let dailyWasteCost = 0;
                
                products.forEach(product => {
                    product.currentLife -= 1;
                    
                    // If expired, remove from inventory and count as waste
                    if (product.currentLife <= 0 && product.quantity > 0) {
                        const wasteValue = product.quantity * calculateCurrentPrice(product);
                        dailyWasteCost += wasteValue;
                        
                        wasteCount += product.quantity;
                        product.quantity = 0;
                        
                        // Show notification for expired products
                        showNotification(`${product.quantity} ${product.name} expired and was wasted ($${wasteValue.toFixed(2)})`, 'danger');
                    }
                });
                
                // Record waste for the day
                if (dailyWasteCost > 0) {
                    wasteHistory.push({
                        day: currentTime.day - 1, // Previous day
                        cost: dailyWasteCost
                    });
                }
            }
            
            currentTimeEl.textContent = formatTime(currentTime);
            
            // Simulate customer interest based on traffic
            const traffic = parseInt(customerTrafficInput.value);
            products.forEach(product => {
                if (product.quantity > 0) {
                    // Random interest based on traffic
                    const interestChange = Math.floor(Math.random() * traffic) - Math.floor(traffic / 2);
                    product.interest = Math.max(0, Math.min(10, product.interest + interestChange));
                    
                    // Track maximum interest for this product
                    product.maxInterest = Math.max(product.maxInterest, product.interest);
                }
            });
            
            renderProducts();
            updateMetrics();
            updateInventoryView();
        }
        
        // Toggle simulation on/off
        function toggleSimulation() {
            if (simulationRunning) {
                clearInterval(simulationInterval);
                simulationRunning = false;
                startSimulationBtn.textContent = 'Start Simulation';
            } else {
                const speed = parseInt(timeSpeedInput.value);
                const interval = 1000 - (speed * 80); // Faster with higher speed
                
                simulationInterval = setInterval(advanceTime, interval);
                simulationRunning = true;
                startSimulationBtn.textContent = 'Pause Simulation';
            }
        }
        
        // Add new product to inventory
        function addNewProduct() {
            const name = document.getElementById('new-product-name').value.trim();
            const category = document.getElementById('new-product-category').value;
            const price = parseFloat(document.getElementById('new-product-price').value);
            const quantity = parseInt(document.getElementById('new-product-quantity').value);
            const shelfLife = parseInt(document.getElementById('new-product-shelf-life').value);
            
            // Validate inputs
            if (!name || isNaN(price) || isNaN(quantity) || isNaN(shelfLife)) {
                showNotification('Please fill all fields with valid values', 'danger');
                return;
            }
            
            if (price <= 0 || quantity <= 0 || shelfLife <= 0) {
                showNotification('Price, quantity and shelf life must be positive numbers', 'danger');
                return;
            }
            
            // Add new product
            const newProduct = {
                id: nextProductId++,
                name: name,
                category: category,
                basePrice: price,
                quantity: quantity,
                shelfLife: shelfLife,
                currentLife: shelfLife,
                interest: 0,
                priceHistory: [],
                maxInterest: 0,
                totalSold: 0
            };
            
            products.push(newProduct);
            
            // Clear form
            document.getElementById('new-product-name').value = '';
            document.getElementById('new-product-price').value = '';
            document.getElementById('new-product-quantity').value = '';
            document.getElementById('new-product-shelf-life').value = '';
            
            // Update views
            renderProducts();
            updateInventoryView();
            updateMetrics();
            
            showNotification(`${name} added to inventory`, 'success');
        }
        
        // Reset the simulation
        function resetSimulation() {
            clearInterval(simulationInterval);
            simulationRunning = false;
            startSimulationBtn.textContent = 'Start Simulation';
            
            // Reset products
            products.length = 0; // Clear array
            products.push(
                { id: 1, name: "Organic Milk", category: "dairy", basePrice: 3.99, quantity: 10, shelfLife: 7, currentLife: 7, interest: 0, priceHistory: [], maxInterest: 0, totalSold: 0 },
                { id: 2, name: "Fresh Strawberries", category: "fruit", basePrice: 4.50, quantity: 8, shelfLife: 5, currentLife: 5, interest: 0, priceHistory: [], maxInterest: 0, totalSold: 0 },
                { id: 3, name: "Artisan Bread", category: "bakery", basePrice: 3.25, quantity: 6, shelfLife: 3, currentLife: 3, interest: 0, priceHistory: [], maxInterest: 0, totalSold: 0 },
                { id: 4, name: "Greek Yogurt", category: "dairy", basePrice: 2.99, quantity: 12, shelfLife: 14, currentLife: 14, interest: 0, priceHistory: [], maxInterest: 0, totalSold: 0 }
            );
            nextProductId = 5;
            
            // Reset sales and waste history
            salesHistory.length = 0;
            wasteHistory.length = 0;
            
            // Reset simulation state
            currentTime = { day: 1, hour: 9, minute: 0 };
            totalRevenue = 0;
            itemsSold = 0;
            wasteCount = 0;
            
            // Reset controls
            customerTrafficInput.value = 5;
            trafficValueEl.textContent = '5';
            timeSpeedInput.value = 5;
            speedValueEl.textContent = '5';
            priceSensitivityInput.value = 5;
            sensitivityValueEl.textContent = '5';
            discountAggressivenessInput.value = 5;
            discountValueEl.textContent = '5';
            
            currentTimeEl.textContent = formatTime(currentTime);
            renderProducts();
            updateMetrics();
            updateInventoryView();
            updateSalesTable();
            initializeCharts();
        }
        
        // Initialize the app when the page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>